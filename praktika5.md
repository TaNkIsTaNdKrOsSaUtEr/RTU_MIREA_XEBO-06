
---

## **Конспект: Библиотека Pandas. Работа с данными (Часть 2)**

---

### **1. Функции агрегирования и анализ данных**

- **Количество уникальных значений** в столбце:
  ```python
  unique_values = df['Название столбца'].nunique()
  ```

- **Количество вхождений каждого значения**:
  ```python
  value_counts = df['Название столбца'].value_counts()
  ```

- **Поиск минимального и максимального значения**:
  ```python
  min_value = df['Столбец'].min()
  max_value = df['Столбец'].max()
  ```

- **Сумма значений в столбце**:
  ```python
  total_sum = df['Столбец'].sum()
  ```

- **Разность между соседними значениями** (разностный ряд):
  ```python
  diff_series = df['Столбец'].diff()
  ```

- **Среднее значение**:
  ```python
  mean_value = df['Столбец'].mean()
  ```

---

### **2. Добавление, переименование и удаление столбцов**

- **Добавление нового столбца** (например, с константой):
  ```python
  df['Новый столбец'] = значение
  ```

- **Добавление столбца со случайными числами**:
  ```python
  import numpy as np
  new_data = np.random.randint(1, 100, size=len(df))
  df['Новый столбец'] = new_data
  ```

- **Переименование столбца**:
  ```python
  df.rename(columns={'Старое название': 'Новое название'}, inplace=True)
  ```

- **Удаление столбца**:
  ```python
  df.drop(columns=['Название столбца'], inplace=True)
  ```

---

### **3. Группировка данных**

- **Группировка по столбцу и агрегация** (например, среднее значение):
  ```python
  grouped = df.groupby('Столбец_группировки')['Агрегируемый_столбец'].mean().reset_index()
  ```

- **Переименование столбцов после группировки**:
  ```python
  grouped.columns = ['Столбец_группировки', 'Новое_название_агрегата']
  ```

---

### **4. Фильтрация данных**

- **Выбор строк по условию**:
  ```python
  filtered_df = df[df['Столбец'] > значение]
  ```

---

### **5. Сохранение данных**

- **Сохранение в CSV** (без индекса):
  ```python
  df.to_csv('имя_файла.csv', index=False)
  ```

- **Сохранение в Excel** (без индекса):
  ```python
  df.to_excel('имя_файла.xlsx', index=False)
  ```

---

### **Итог по второй части**
- Pandas позволяет проводить агрегацию данных: подсчёт уникальных значений, суммирование, расчёт среднего и др.
- Можно легко добавлять, переименовывать и удалять столбцы.
- Группировка данных позволяет анализировать информацию по категориям.
- Результаты обработки можно сохранять в различные форматы: CSV, Excel.

---

### **Общий итог по Pandas (Часть 1 + Часть 2)**
- **Часть 1**: основы работы с DataFrame и Series, загрузка, просмотр, индексация, фильтрация, сортировка, визуализация.
- **Часть 2**: агрегация, группировка, модификация таблиц, сохранение результатов.

Теперь у вас есть полноценный инструментарий для работы с данными в Pandas!

---
